schema {
  query: Query
  mutation: Mutation
  subscription: Subscription
}

type Message {
  conversationId: ID!
  createdAt: String!
  content: String!
  sender: String!
}

type Mutation {
  createMessage(conversationId: ID!, content: String!, sender: String!, createdAt: String!): Message
}

type Query {
  allMessages(conversationId: ID!): [Message]
}

type Subscription {
  subscribeToNewMessage(conversationId: ID!): Message
    @aws_subscribe(mutations:["createMessage"])
}